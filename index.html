<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sana Özel Bir Sürpriz ❤️</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --bg-gradient-start: #fde9ea;
  --bg-gradient-end: #f5d4e4;
  --primary-color: #e91e63;
  --secondary-color: #9c27b0;
  --text-color: #333;
  --white: #ffffff;
  --shadow-color: rgba(0, 0, 0, 0.15);
  --border-radius: 16px;
}
* { margin: 0; padding: 0; box-sizing: border-box; }
html { scroll-behavior: smooth; }
body {
  background: linear-gradient(135deg, var(--bg-gradient-start), var(--bg-gradient-end));
  font-family: 'Poppins', sans-serif;
  overflow: hidden;
  color: var(--text-color);
}
.hidden { opacity: 0 !important; visibility: hidden !important; pointer-events: none !important; transform: scale(0.95); }
.visible { opacity: 1; visibility: visible; pointer-events: auto; transform: scale(1); }
.page {
  position: fixed; inset: 0; display: flex; flex-direction: column;
  justify-content: center; align-items: center; padding: 20px;
  transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}
#popup {
  width: min(400px, 95%); background: var(--white); border-radius: var(--border-radius);
  padding: 30px; text-align: center; box-shadow: 0 10px 30px var(--shadow-color);
  border: 1px solid rgba(255, 255, 255, 0.5);
}
#popup h1 { font-size: 1.8rem; color: var(--primary-color); margin-bottom: 15px; }
#popup p { line-height: 1.6; margin-bottom: 25px; }
.button-group { display: flex; gap: 15px; justify-content: center; }
.btn {
  padding: 12px 28px; border: none; border-radius: 10px; font-weight: 600;
  font-size: 1rem; cursor: pointer; transition: all 0.3s ease;
  box-shadow: 0 5px 15px var(--shadow-color);
}
.btn-primary { background: linear-gradient(45deg, var(--primary-color), var(--secondary-color)); color: var(--white); }
.btn-primary:hover { transform: translateY(-3px); box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2); }
.btn-secondary { background: #f1f1f1; color: var(--text-color); }
.btn-secondary:hover { background: #e0e0e0; }
#loginScreen { background: linear-gradient(135deg, #667eea, #764ba2); gap: 20px; }
#loginScreen h1 { color: var(--white); font-weight: 400; text-align: center; font-size: 1.5rem; max-width: 320px; }
.input-field {
  width: min(320px, 100%); padding: 15px 20px; border-radius: 10px; border: 1px solid transparent;
  font-size: 1rem; background: rgba(255, 255, 255, 0.2); color: var(--white);
  outline: none; transition: all 0.3s ease;
}
.input-field::placeholder { color: rgba(255, 255, 255, 0.7); }
.input-field:focus { background: rgba(255, 255, 255, 0.3); border-color: var(--white); }
#heartsContainer { display: flex; gap: 15px; margin-top: 20px; }
#heartsContainer span { font-size: clamp(30px, 8vw, 50px); animation: beat 1.5s infinite ease-in-out; }
#heartsContainer span:nth-child(2) { animation-delay: 0.1s; } #heartsContainer span:nth-child(3) { animation-delay: 0.2s; }
#heartsContainer span:nth-child(4) { animation-delay: 0.3s; } #heartsContainer span:nth-child(5) { animation-delay: 0.4s; }
@keyframes beat { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.3); } }
#loader { background: rgba(0, 0, 0, 0.5); backdrop-filter: blur(5px); }
.loader-card {
  width: min(400px, 95%); background: var(--white); border-radius: var(--border-radius);
  padding: 30px; text-align: center; box-shadow: 0 10px 30px var(--shadow-color);
}
.loader-title { font-size: 1.25rem; margin-bottom: 20px; }
.progress-wrap { height: 12px; background: #eee; border-radius: 999px; overflow: hidden; }
.progress-bar { height: 100%; background: linear-gradient(90deg, var(--primary-color), var(--secondary-color)); transition: width 0.1s linear; }
.progress-meta { font-size: 0.9rem; color: #555; margin-top: 15px; }
#customModal { background: rgba(0, 0, 0, 0.5); backdrop-filter: blur(5px); }
#customModal .modal-content {
  width: min(400px, 95%); background: var(--white); border-radius: var(--border-radius); padding: 30px; text-align: center;
  box-shadow: 0 10px 30px var(--shadow-color); transform: translateY(-20px);
  transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}
#customModal.visible .modal-content { transform: translateY(0); }
#modalText { margin-bottom: 25px; line-height: 1.6; }
#gift { position: absolute; width: 100%; height: 100%; overflow-y: scroll; scroll-snap-type: y mandatory; top: 0; left: 0; }
.top-menu {
  position: fixed; top: 0; left: 0; width: 100%; padding: 15px 5%;
  display: flex; justify-content: center; align-items: center; background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); box-shadow: 0 2px 10px var(--shadow-color); z-index: 100;
}
.top-menu ul { display: flex; flex-wrap: wrap; justify-content: center; list-style: none; gap: 10px; }
.top-menu a {
  color: var(--text-color); text-decoration: none; font-weight: 600;
  padding: 8px 15px; border-radius: 8px; transition: all 0.3s ease;
}
.top-menu a:hover { background: var(--primary-color); color: var(--white); }
section.gift-section {
  min-height: 100vh; width: 100%; scroll-snap-align: start; display: flex; flex-direction: column;
  justify-content: center; align-items: center; padding: 100px 20px 40px 20px;
  position: relative; overflow: hidden;
}
#welcome { background: linear-gradient(135deg, #a1c4fd, #c2e9fb); } #films { background: linear-gradient(135deg, #ff9a9e, #fecfef); }
#poems { background: linear-gradient(135deg, #d4fc79, #96e6a1); } #memories { background: linear-gradient(135deg, #ff9a9e, #fad0c4); }
#games { background: linear-gradient(135deg, #fccb90, #d57eeb); } #music { background: linear-gradient(135deg, #f6d365, #fda085); }
.section-title {
  font-size: clamp(2rem, 8vw, 3.5rem); color: var(--white); margin-bottom: 30px;
  text-shadow: 2px 2px 10px rgba(0,0,0,0.2); text-align: center;
}
.card-container { display: flex; flex-wrap: wrap; gap: 25px; justify-content: center; width: 100%; max-width: 1200px; }
.card {
  background: rgba(255, 255, 255, 0.85); border-radius: var(--border-radius);
  box-shadow: 0 8px 25px var(--shadow-color); padding: 25px; text-align: center;
  width: 100%; max-width: 350px; transition: transform 0.3s ease, box-shadow 0.3s ease; display: flex; flex-direction: column; justify-content: space-between;
}
.card:hover { transform: translateY(-10px) scale(1.03); box-shadow: 0 15px 35px rgba(0,0,0,0.2); }
.card h3 { font-size: 1.5rem; color: var(--primary-color); margin-bottom: 15px; }
.card p { font-size: 1rem; line-height: 1.6; margin-bottom: 20px; flex-grow: 1; }
.card a, .card .btn-game, .card #specialMomentBtn {
  display: inline-block; background: var(--primary-color); color: var(--white);
  padding: 10px 25px; border-radius: 8px; text-decoration: none;
  font-weight: 600; transition: background-color 0.3s ease; border: none; font-family: 'Poppins', sans-serif;
  margin-top: auto; cursor: pointer;
}
.card a:hover, .card .btn-game:hover, .card #specialMomentBtn:hover { background: var(--secondary-color); }
.poem-card { text-align: left; white-space: pre-wrap; font-style: italic; }
.poem-card h4 { text-align: right; font-weight: 600; margin-top: 20px; }

/* --- Anı Kavanozu & Özel Anlar Stilleri --- */
#memory-jar-card, #special-moments-card { max-width: 600px; }
#memoryDisplay, #momentDisplay {
    background: rgba(255, 255, 255, 0.6); border-radius: 10px; padding: 20px;
    min-height: 100px; font-style: italic; font-size: 1.1rem;
    display: flex; flex-direction: column; justify-content: center; align-items: center;
    color: #555; transition: all 0.5s ease;
    margin-top: 20px;
}
.fade-in { animation: fadeIn 0.5s ease; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

/* --- OYUN MODAL STİLLERİ --- */
.game-modal{position:fixed;inset:0;background-color:rgba(0,0,0,.6);backdrop-filter:blur(10px);z-index:200;display:flex;justify-content:center;align-items:center;opacity:0;visibility:hidden;transition:opacity .4s ease,visibility .4s ease}.game-modal.active{opacity:1;visibility:visible}.game-container{background:var(--white);padding:20px;border-radius:var(--border-radius);box-shadow:0 10px 40px rgba(0,0,0,.3);width:min(600px,95%);transform:scale(.9);transition:transform .4s cubic-bezier(.34,1.56,.64,1);position:relative}.game-modal.active .game-container{transform:scale(1)}.game-modal .close-btn{position:absolute;top:15px;right:15px;background:#eee;border:none;width:30px;height:30px;border-radius:50%;font-size:1.2rem;cursor:pointer;transition:background-color .3s,transform .3s}.game-modal .close-btn:hover{background-color:#ddd;transform:rotate(90deg)}.game-title{font-size:1.8rem;color:var(--primary-color);text-align:center;margin-bottom:20px}#rps-scores{display:flex;justify-content:space-around;font-size:1.2rem;margin-bottom:20px;font-weight:600}#rps-choices{display:flex;justify-content:center;gap:15px;margin-bottom:20px}.rps-btn{font-size:2.5rem;padding:15px;border-radius:50%;width:80px;height:80px;cursor:pointer;border:3px solid transparent;transition:all .3s}.rps-btn:hover{transform:scale(1.1);border-color:var(--primary-color)}#rps-result{text-align:center;font-size:1.2rem;font-weight:700;min-height:30px}#ttt-status{text-align:center;font-size:1.2rem;font-weight:700;min-height:30px;margin-bottom:15px}#ttt-board{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;max-width:300px;margin:0 auto 20px}.ttt-cell{width:100%;aspect-ratio:1/1;background-color:#eee;border-radius:8px;display:flex;justify-content:center;align-items:center;font-size:3rem;font-weight:700;cursor:pointer;transition:background-color .3s}.ttt-cell:hover{background-color:#ddd}.ttt-cell.win{background-color:#96e6a1;color:#fff}#ttt-restart-btn{display:block;margin:0 auto}
</style>
</head>
<body>

<div id="popup" class="page visible">
  <h1>Merhaba Aşkım ❤️</h1>
  <p>Bu minik web sitesi, hayatımın anlamı olan senin için, sevgilin tarafından kodlandı. Sürprizini görmeye hazır mısın?</p>
  <div class="button-group">
    <button id="showLoginBtn" class="btn btn-primary">Evet, Hazırım!</button>
    <button id="noBtn" class="btn btn-secondary">Hayır</button>
  </div>
</div>
<div id="loginScreen" class="page hidden">
  <h1>Hediyeni görmek için sadece adını yazman yeterli sevgilim</h1>
  <input id="username" class="input-field" placeholder="Güzeller güzeli sevgilimin adı">
  <input class="input-field" type="password" placeholder="Şifre: 'En Değerlim' olduğunu bilmen :)">
  <button id="loginBtn" class="btn btn-primary">Giriş Yap</button>
  <div id="heartsContainer"><span>❤️</span><span>🩷</span><span>💜</span><span>🤍</span><span>💖</span></div>
</div>
<div id="loader" class="page hidden" aria-hidden="true">
 <div class="loader-card">
   <div id="loaderTitle" class="loader-title">Harika bir hediye hazırlanıyor...</div>
   <div class="progress-wrap"><div id="progress" class="progress-bar" style="width: 0%;"></div></div>
   <div id="progressText" class="progress-meta">0%</div>
 </div>
</div>
<div id="customModal" class="page hidden">
    <div class="modal-content">
        <p id="modalText"></p>
        <button id="modalOkBtn" class="btn btn-primary">Tamam</button>
    </div>
</div>

<div id="gift" class="hidden">
  <header class="top-menu">
    <nav><ul>
        <li><a href="#welcome">Başlangıç</a></li>
        <li><a href="#films">Filmler</a></li>
        <li><a href="#poems">Şiirler</a></li>
        <li><a href="#memories">Anılar</a></li>
        <li><a href="#games">Oyunlar</a></li>
        <li><a href="#music">Müziğimiz</a></li>
    </ul></nav>
  </header>
  <main>
    <section id="welcome" class="gift-section">
      <div class="card" style="max-width: 600px;">
        <h2 id="welcome-title" style="font-size: 2rem; color: var(--primary-color);">Hoş Geldin Sevgilim!</h2>
        <p>Burası sana özel hazırlanmış küçük dünyamız. Aşağıya kaydırarak diğer sürprizleri görebilirsin.</p>
      </div>
    </section>

    <section id="films" class="gift-section">
        <h2 class="section-title">Film Gecelerimiz İçin</h2>
        <div class="card-container">
            <div class="card">
                <h3>Sadece Sen</h3>
                <p>Görme engelli bir kız ile geçmişi karanlık eski bir boksörün yollarının kesişmesiyle başlayan, her şeye rağmen filizlenen dokunaklı ve tutkulu bir aşk hikayesi.</p>
                <a href="https://www.imdb.com/title/tt3477480" target="_blank">IMDB'de Göz At</a>
            </div>
            <div class="card">
                <h3>Not Defteri (The Notebook)</h3>
                <p>Farklı sosyal sınıflardan gelen iki gencin önlerine çıkan tüm engellere rağmen yaşadığı, yıllara meydan okuyan, unutulmaz ve efsanevi bir aşk destanı.</p>
                <a href="https://www.imdb.com/title/tt0332280/" target="_blank">IMDB'de Göz At</a>
            </div>
            <div class="card">
                <h3>Zamanda Aşk (About Time)</h3>
                <p>Ailesindeki erkeklerin zamanda yolculuk yapabildiğini öğrenen bir gencin, bu yeteneğini mükemmel bir aşk hayatı kurmak için kullanmasını anlatan sıcacık ve hayat dolu bir film.</p>
                <a href="https://www.imdb.com/title/tt2194499/" target="_blank">IMDB'de Göz At</a>
            </div>
        </div>
    </section>

    <section id="poems" class="gift-section">
        <h2 class="section-title">Sana Adanmış Mısralar</h2>
        <div class="card-container">
            <div class="card poem-card">
                <h3>O Gözler ve Tatlı Gülüşün</h3>
                <p>Bir evren saklı durur, o güzel gözlerinde,<br>Yıldızlar utanır parıltısından, gecenin en derininde.<br>Bir tebessüm belirir dudaklarının kenarında,<br>Dünyanın tüm çiçekleri açar sanki o anda.<br><br>O tatlılığın, bahar yeli gibi eser içime,<br>Zaman durur, mekan kaybolur sen gelince aklıma.<br>Her bakışın kalbime yazılmış en güzel şiir,<br>Varlığın, bu kurak gönlüme yağan en tatlı yağmurdur.</p>
                <h4>- Senin Şairin</h4>
            </div>
            <div class="card poem-card">
                <h3>Kalbinin Işığında</h3>
                <p>Ruhunun derinliğinde bir okyanus var, bilirim,<br>İyiliğin ve sevginin demir attığı sakin bir liman.<br>Herkes dışını görürken, ben kalbinin sesini dinlerim,<br>Orada öyle bir melodi var ki, beni anlatan.<br><br>O kalbin ki, en masum duaların kabul olduğu yer,<br>Dokunduğu her şeyi güzelleştiren sihirli bir el.<br>Sadece güzelliğin değil, ruhundur beni esir eden,<br>İyi ki varsın, bu karanlık dünyada parlayan tek fener.</p>
                <h4>- Sana Vurgun Kalbin</h4>
            </div>
        </div>
    </section>

    <section id="memories" class="gift-section">
        <h2 class="section-title">Anı Kavanozumuz 🏺</h2>
        <div id="memory-jar-card" class="card">
            <h3>Kavanozdan Bir Hayal Çek</h3>
            <p>Beraber biriktirmek istediğimiz anıların ve kurduğumuz hayallerin sadece birkaçı sevgilim...</p>
            <button id="newMemoryBtn" class="btn btn-primary">Yeni Bir Hayal Çek</button>
            <div id="memoryDisplay">Hayalleri görmek için butona bas!</div>
        </div>
    </section>

    <section id="games" class="gift-section">
        <h2 class="section-title">Eğlence Köşemiz</h2>
        <div class="card-container">
            <div class="card"><h3>Taş-Kağıt-Makas</h3><p>Klasik ve eğlenceli oyun. Şansını bilgisayara karşı dene, bakalım kim kazanacak?</p><button class="btn-game" data-game="rps">Oyna</button></div>
            <div id="special-moments-card" class="card">
                <h3>Özel Anlarımız ✨</h3>
                <p>Kaderimizin yazıldığı o değerli anları hatırlamaya ne dersin? Butona bas ve rastgele bir tanesini gör!</p>
                <div id="momentDisplay"></div>
                <button id="specialMomentBtn">Özel Bir Anı Göster</button>
            </div>
            <div class="card"><h3>Tic-Tac-Toe (XOX)</h3><p>İki kişilik efsane oyun. Telefonu yanındaki aşkına uzat ve bir el oynayın!</p><button class="btn-game" data-game="ttt">Oyna</button></div>
        </div>
    </section>
    
    <section id="music" class="gift-section">
        <h2 class="section-title">Bizim Şarkımız</h2>
        <div class="card-container">
            <div class="card">
                <h3>Sezen Aksu - Haydi Gel Benimle Ol</h3>
                <p>Gözlerimi her kapattığımda aklıma gelen, bize özel anları hatırlatan o güzel melodi... Dinlemek için tıkla!</p>
                <a href="https://www.youtube.com/watch?v=qol0bBbcm44" target="_blank">YouTube'da Dinle</a>
            </div>
        </div>
    </section>
  </main>
</div>

<div id="rps-modal" class="game-modal"><div class="game-container"><button class="close-btn">&times;</button><h2 class="game-title">Taş-Kağıt-Makas</h2><div id="rps-scores"><span>Sen: <span id="rps-player-score">0</span></span><span>Bilgisayar: <span id="rps-computer-score">0</span></span></div><p style="text-align:center; margin-bottom:15px;">Seçimini yap:</p><div id="rps-choices"><button class="rps-btn" data-choice="Taş">💎</button><button class="rps-btn" data-choice="Kağıt">📜</button><button class="rps-btn" data-choice="Makas">✂️</button></div><div id="rps-result">Oyun Başlasın!</div></div></div>
<div id="ttt-modal" class="game-modal"><div class="game-container"><button class="close-btn">&times;</button><h2 class="game-title">Tic-Tac-Toe (XOX)</h2><div id="ttt-status">Sıradaki oyuncu: X</div><div id="ttt-board"><div class="ttt-cell" data-cell></div><div class="ttt-cell" data-cell></div><div class="ttt-cell" data-cell></div><div class="ttt-cell" data-cell></div><div class="ttt-cell" data-cell></div><div class="ttt-cell" data-cell></div><div class="ttt-cell" data-cell></div><div class="ttt-cell" data-cell></div><div class="ttt-cell" data-cell></div></div><button id="ttt-restart-btn" class="btn btn-secondary">Yeniden Başlat</button></div></div>


<script>
document.addEventListener('DOMContentLoaded', () => {
    // --- TEMEL SAYFA MANTIĞI ---
    const popup = document.getElementById('popup');
    const loginScreen = document.getElementById('loginScreen');
    const loader = document.getElementById('loader');
    const giftPage = document.getElementById('gift');
    const customModal = document.getElementById('customModal');
    const modalText = document.getElementById('modalText');
    const usernameInput = document.getElementById('username');
    const showLoginBtn = document.getElementById('showLoginBtn');
    const noBtn = document.getElementById('noBtn');
    const loginBtn = document.getElementById('loginBtn');

    function switchPage(hideElement, showElement) {
        hideElement.classList.add('hidden');
        hideElement.classList.remove('visible');
        setTimeout(() => {
            showElement.classList.remove('hidden');
            showElement.classList.add('visible');
        }, 300);
    }

    function showModal(message, onOk = () => {}) {
        modalText.textContent = message;
        customModal.classList.remove('hidden');
        customModal.classList.add('visible');
        let modalOkBtn = document.getElementById('modalOkBtn');
        const newOkBtn = modalOkBtn.cloneNode(true);
        modalOkBtn.parentNode.replaceChild(newOkBtn, modalOkBtn);
        newOkBtn.addEventListener('click', () => {
            customModal.classList.add('hidden');
            customModal.classList.remove('visible');
            onOk();
        }, { once: true });
    }

    showLoginBtn.addEventListener('click', () => {
        switchPage(popup, loginScreen);
        setTimeout(() => { showModal('Harika bir seçim! Hediyeyi görmek için adını yazman yeterli. Seni çok seviyorum :)'); }, 700);
    });
    noBtn.addEventListener('click', () => { showModal('Kalbim kırıldı ama... Belki fikrini değiştirirsin? Lütfen hediyeni gör 🥺'); });
    loginBtn.addEventListener('click', () => {
        const username = usernameInput.value.trim();
        if (username === '') { showModal('Lütfen dünyanın en güzel ismini girer misin?'); return; }
        startLoader(username);
    });

    function startLoader(username) {
        switchPage(loginScreen, loader);
        const progressEl = document.getElementById('progress');
        const progressText = document.getElementById('progressText');
        document.getElementById('loaderTitle').textContent = `${username} için hediye sihirli bir şekilde hazırlanıyor...`;
        let pct = 0;
        progressEl.style.width = '0%';
        progressText.textContent = '0%';
        const timer = setInterval(() => {
            pct += 1;
            if (pct > 100) pct = 100;
            progressEl.style.width = pct + '%';
            progressText.textContent = pct + '%';
            if (pct === 100) {
                clearInterval(timer);
                setTimeout(() => {
                    loader.classList.add('hidden');
                    loader.classList.remove('visible');
                    giftPage.classList.remove('hidden');
                    document.body.style.overflow = 'auto';
                    document.getElementById('welcome-title').textContent = `Hoş Geldin ${username}!`;
                    showModal(`İşte hediyen hazır! Umarım çok beğenirsin aşkım.`);
                }, 500);
            }
        }, 30);
    }
    
    // --- Anı Kavanozu MANTIĞI ---
    const newMemoryBtn = document.getElementById('newMemoryBtn');
    const memoryDisplay = document.getElementById('memoryDisplay');
    const memories = [
      "Buluşacağımız o ilk günü iple çekiyorum bitanem.",
      "Beraber sahilde el ele yürüme hayali çok tatlı değil mi sevgilim?",
      "Seninle yağmurun altında deli gibi dans etmek mükemmel olmaz mıydı sence de?",
      "Bal kızım ile mutfağa girip beraber yemek yapacağımız günler çok güzel olacak.",
      "Tüm dertleri unutup, baş başa yıldızları izleyeceğimiz gecelere ne dersin?",
      "En sevdiğimiz şarkılarla, kimse yokmuş gibi dans edeceğimiz anlar için sabırsızlanıyorum.",
      "Soğuk bir kış gününde, sıcak bir kahve ve battaniye altında saatlerce sohbet etme fikri içimi ısıtıyor.",
      "El ele tutuşup hiç bilmediğimiz bir şehrin sokaklarında kaybolacağımız maceraları düşlüyorum.",
      "Sabahın ilk ışıklarıyla uyanıp, sırf seninle gün doğumunu izleyeceğimiz o sabahı hayal ediyorum sevgilim.",
      "Hiçbir şey yapmasak bile, sadece yan yana durup kahkahalara boğulacağımız anları iple çekiyorum."
    ];
    let lastMemoryIndex = -1;

    newMemoryBtn.addEventListener('click', () => {
        let randomIndex;
        do { randomIndex = Math.floor(Math.random() * memories.length); } 
        while (memories.length > 1 && randomIndex === lastMemoryIndex);
        lastMemoryIndex = randomIndex;
        
        memoryDisplay.classList.remove('fade-in');
        void memoryDisplay.offsetWidth; // Animasyonu resetle
        memoryDisplay.classList.add('fade-in');
        memoryDisplay.textContent = memories[randomIndex];
    });

    // --- ÖZEL ANLAR KARTI MANTIĞI ---
    const specialMomentBtn = document.getElementById('specialMomentBtn');
    const momentDisplay = document.getElementById('momentDisplay');
    const specialMoments = [
        { label: "Tanıştığımız O Büyülü Tarih", value: "17 / 06 / 2025" },
        { label: "Her Şeyin Başladığı An (İlk Merhaba)", value: "20:02" },
        { label: "Kalbimin Sadece Senin İçin Attığı An", value: "20:08" },
        { label: "Aşkımızın Resmiyet Kazandığı Gün", value: "25 / 06 / 2025" }
    ];
    let lastMomentIndex = -1;

    specialMomentBtn.addEventListener('click', () => {
        let randomIndex;
        do { randomIndex = Math.floor(Math.random() * specialMoments.length); } 
        while (specialMoments.length > 1 && randomIndex === lastMomentIndex);
        lastMomentIndex = randomIndex;
        
        const moment = specialMoments[randomIndex];
        
        momentDisplay.classList.remove('fade-in');
        void momentDisplay.offsetWidth; // Animasyonu resetle
        momentDisplay.classList.add('fade-in');
        momentDisplay.innerHTML = `<strong style="margin-bottom: 5px;">${moment.label}:</strong>${moment.value}`;
    });

    // --- OYUN MODALI MANTIĞI ---
    const gameButtons = document.querySelectorAll('.btn-game');
    const gameModals = document.querySelectorAll('.game-modal');
    const closeButtons = document.querySelectorAll('.game-modal .close-btn');

    gameButtons.forEach(button => {
        button.addEventListener('click', () => {
            const gameId = button.dataset.game;
            document.getElementById(`${gameId}-modal`)?.classList.add('active');
        });
    });
    function closeAllModals() { gameModals.forEach(modal => modal.classList.remove('active')); }
    closeButtons.forEach(button => button.addEventListener('click', closeAllModals));
    gameModals.forEach(modal => { modal.addEventListener('click', e => { if (e.target === modal) closeAllModals(); }); });

    // --- TAŞ-KAĞIT-MAKAS OYUN MANTIĞI ---
    const rpsPlayerScoreEl = document.getElementById('rps-player-score');
    const rpsComputerScoreEl = document.getElementById('rps-computer-score');
    const rpsResultEl = document.getElementById('rps-result');
    const rpsChoiceButtons = document.querySelectorAll('.rps-btn');
    let rpsPlayerScore = 0, rpsComputerScore = 0;
    const rpsChoices = ['Taş', 'Kağıt', 'Makas'];

    rpsChoiceButtons.forEach(button => button.addEventListener('click', () => {
        const playerChoice = button.dataset.choice;
        const computerChoice = rpsChoices[Math.floor(Math.random() * 3)];
        let result = '';
        if (playerChoice === computerChoice) { result = `İkiniz de ${playerChoice} seçtiniz. Berabere!`; }
        else if ((playerChoice === 'Taş' && computerChoice === 'Makas') || (playerChoice === 'Kağıt' && computerChoice === 'Taş') || (playerChoice === 'Makas' && computerChoice === 'Kağıt')) {
            rpsPlayerScore++; result = `Sen: ${playerChoice}, O: ${computerChoice}. Kazandın! 🎉`;
        } else { rpsComputerScore++; result = `Sen: ${playerChoice}, O: ${computerChoice}. Kaybettin! 😢`; }
        rpsPlayerScoreEl.textContent = rpsPlayerScore;
        rpsComputerScoreEl.textContent = rpsComputerScore;
        rpsResultEl.textContent = result;
    }));

    // --- TIC-TAC-TOE OYUN MANTIĞI ---
    const tttStatusEl = document.getElementById('ttt-status');
    const tttRestartBtn = document.getElementById('ttt-restart-btn');
    const tttCells = document.querySelectorAll('.ttt-cell');
    let isGameActive, currentPlayer, gameState;
    const winningConditions = [[0, 1, 2], [3, 4, 5], [6, 7, 8], [0, 3, 6], [1, 4, 7], [2, 5, 8], [0, 4, 8], [2, 4, 6]];

    function handleTTTRestartGame() {
        isGameActive = true;
        currentPlayer = "X";
        gameState = ["", "", "", "", "", "", "", "", ""];
        tttStatusEl.textContent = `Sıradaki oyuncu: ${currentPlayer}`;
        tttCells.forEach(cell => { cell.textContent = ""; cell.classList.remove('win'); });
    }
    function handleTTTResultValidation() {
        let roundWon = false;
        let winningCombo = [];
        for (let i = 0; i < winningConditions.length; i++) {
            const winCondition = winningConditions[i];
            let a = gameState[winCondition[0]], b = gameState[winCondition[1]], c = gameState[winCondition[2]];
            if (a === '' || b === '' || c === '') continue;
            if (a === b && b === c) { roundWon = true; winningCombo = winCondition; break; }
        }
        if (roundWon) {
            tttStatusEl.textContent = `Oyuncu ${currentPlayer} kazandı! 🏆`;
            isGameActive = false;
            winningCombo.forEach(index => tttCells[index].classList.add('win'));
            return;
        }
        if (!gameState.includes("")) { tttStatusEl.textContent = "Oyun berabere bitti! 🤝"; isGameActive = false; return; }
        currentPlayer = currentPlayer === "X" ? "O" : "X";
        tttStatusEl.textContent = `Sıradaki oyuncu: ${currentPlayer}`;
    }
    function handleTTTCellClick(e) {
        const clickedCell = e.target;
        const clickedCellIndex = Array.from(tttCells).indexOf(clickedCell);
        if (gameState[clickedCellIndex] !== "" || !isGameActive) return;
        gameState[clickedCellIndex] = currentPlayer;
        clickedCell.textContent = currentPlayer;
        handleTTTResultValidation();
    }
    tttCells.forEach(cell => cell.addEventListener('click', handleTTTCellClick));
    tttRestartBtn.addEventListener('click', handleTTTRestartGame);
    document.querySelector('[data-game="ttt"]').addEventListener('click', handleTTTRestartGame);
});
</script>
</body>
</html>
